---
import App from '@/components/pages/detail.astro';
import getWorks from '@/lib/getWorks.ts';

export const getStaticPaths = async () => {
  const works = await getWorks();

  works.forEach(work => {
    console.log('work.id =', work.id);
  });

  const paths = works.map(work => {
    return {
      params: { work_id: work.id },
      props: { work },
    };
  });

  return paths;
};
---

<App {...Astro.props} />
